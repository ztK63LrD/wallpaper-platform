"use strict";const e=require("../../common/vendor.js"),a=require("../../api/home.js");if(!Array){(e.resolveComponent("custom-nav-bar")+e.resolveComponent("uni-icons")+e.resolveComponent("uni-dateformat")+e.resolveComponent("common-title")+e.resolveComponent("theme-item"))()}Math||((()=>"../../components/custom-nav-bar/custom-nav-bar.js")+(()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat.js")+(()=>"../../components/common-title/common-title.js")+(()=>"../../components/theme-item/theme-item.js"))();const t={__name:"index",setup(t){const o=e.ref([]),i=e.ref([]),s=e.ref([]),n=e.ref([]);e.onShareAppMessage((e=>({title:"看我分享的图片！",path:"/pages/classify/classify"}))),e.onShareTimeline((()=>({title:"朋友圈分享啦",imageUrl:"/static/logo.png"})));return e.onMounted((()=>{(async()=>{let e=await a.apiGerBanner(),t=await a.apiGetDayRandom(),l=await a.apiGetNotice({select:!0}),r=await a.apiGetClassify({select:!0});(await Promise.allSettled([e,t,l,r])).forEach(((e,a)=>{if("fulfilled"===e.status)switch(a){case 0:o.value=e.value.data||[];break;case 1:i.value=e.value.data||[];break;case 2:s.value=e.value.data||[];break;case 3:n.value=e.value.data||[]}else console.error(`Request ${a} failed:`,e.reason)}))})()})),(a,t)=>({a:e.p({title:"推荐"}),b:e.f(o.value,((e,a,t)=>({a:e.picurl,b:e._id}))),c:e.p({type:"sound-filled",size:"20",color:"#008c8c"}),d:e.f(s.value,((a,t,o)=>({a:e.t(a.title),b:"/pages/notice/notice?id="+a._id,c:a._id}))),e:e.p({type:"right",size:"20",color:"#333"}),f:e.p({type:"calendar",size:"24"}),g:e.p({date:Date.now(),format:"dd日"}),h:e.f(i.value,((a,t,o)=>({a:a.smallPicurl,b:"/pages/preview/preview?id="+a._id,c:a._id,d:e.o((t=>(a._id,void e.index.setStorageSync("storgClassList",i.value))),a._id)}))),i:e.f(n.value,((a,t,o)=>({a:a._id,b:"4c3fa63a-7-"+o,c:e.p({item:a})}))),j:e.p({isMore:!0})})}},o=e._export_sfc(t,[["__scopeId","data-v-4c3fa63a"]]);t.__runtimeHooks=6,wx.createPage(o);
